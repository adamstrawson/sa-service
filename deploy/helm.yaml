---
apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: sa-service
  namespace: development
spec:
  maxHistory: 2
  chart:
    repository: https://adamstrawson.github.io/sa-helm-charts/
    name: sa-service
    version: 1.0.1
  values:
    name: sa-service
    image: adamstrawson/sa-service:f3256bc662fd41e6be47741c32072ee11087d942
    deployment:
      resources:
        requests:
          cpu: 200m
          memory: 512Mi
        limits:
          cpu: "1"
          memory: 512Mi
      env:
      - name: MY_ENV_VAR
        value: "helloworld"
    hpa:
      enabled: true
      minPods: 3
      maxPods: 6
      targetCPU: 50
